@model CmsWeb.Models.SearchModel
<input type="hidden" name="m.type" value="@Model.type" />
<input type="hidden" name="m.typeid" value="@Model.typeid" />
<input type="hidden" name="m.from" value="@Model.from" />
<input type="hidden" name="m.name" value="@Model.name" />
<input type="hidden" name="m.dob" value="@Model.dob" />
<input type="hidden" name="m.address" value="@Model.address" />
<input type="hidden" name="m.phone" value="@Model.phone" />
<input type="hidden" name="m.CampusId" value="@Model.CampusId" />
<input type="hidden" name="m.EntryPointId" value="@Model.EntryPointId" /> 
@{ 
    var n = 0;
    for (; n < Model.List.Count - 1; n++)
    {
        var p = Model.List[n];
        p.index = n;
        @Html.Partial("HiddenPerson", p)
    }
    var np = Model.List[n];
    np.index = n;
}
<input type="hidden" name="m.List.Index" value="@n" />
<input type="hidden" name="m.List[@n].FamilyId" value="@np.FamilyId" />
<input type="hidden" name="m.List[@n].homephone" value="@np.homephone" />
<input type="hidden" name="m.List[@n].address" value="@np.address" />
<input type="hidden" name="m.List[@n].address2" value="@np.address2" />
<input type="hidden" name="m.List[@n].zip" value="@np.zip" />
<input type="hidden" name="m.List[@n].city" value="@np.city" />
<input type="hidden" name="m.List[@n].state" value="@np.state" />
<h4>Add Person To Existing Family</h4>
<a class="helplink" target="_blank" href='@Model.HelpLink("ExistingFamily")'>help</a>
<table class="form" cellspacing="5">
    <tbody>
    @Html.Partial("EditPerson", np)
    <tr><td class="right" colspan="2">
            <a href="/SearchAdd/PersonCancel/@n" class="bt formlink" title="@(Model.List.Count > 0 ? "back to selections" : "back to search person")">go back</a>
            <a href="/SearchAdd/AddToFamily/" class="bt formlink default blue">Submit</a>
        </td>
    </tr>
    </tbody>
</table>
