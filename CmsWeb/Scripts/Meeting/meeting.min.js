function AddSelected(n){$("#visitorDialog").dialog("close"),n.error&&alert(n.error),window.location.reload(!0)}$(function(){$("#AddFromTag").dialog({title:"Add From Tag",bgiframe:!0,autoOpen:!1,width:750,height:650,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){window.location.reload()}});$("body").on("click","a.addfromtag",function(n){n.preventDefault();var t=$("#AddFromTag");$("iframe",t).attr("src",this.href),t.dialog("option","title","Add Attendees From Tag"),t.dialog("open")});$(".clickSelectG").editable("/Meeting/EditGroup/",{indicator:'<img src="/images/loading.gif">',loadurl:"/Meeting/MeetingTypes/",loadtype:"POST",type:"select",submit:"OK",style:"display: inline",tooltip:"Click to edit...",callback:function(n){n=="Group (headcount)"?$(".numpresent").editable("enable"):$(".numpresent").editable("disable")}}),$(".clickSelectC").editable("/Meeting/EditAttendCredit/",{indicator:'<img src="/images/loading.gif">',loadurl:"/Meeting/AttendCredits/",loadtype:"POST",type:"select",submit:"OK",tooltip:"Click to edit...",style:"display: inline"}),$(".numpresent").editable("enable"),$(".clickEdit").editable("/Meeting/Edit/",{indicator:"<img src='/images/loading.gif'>",tooltip:"Click to edit...",style:"display: inline",width:"300px",height:25,submit:"OK",data:function(n){return n==="0"?"":n},callback:function(n){n.startsWith("error:")&&alert(n),n=""}}),$(".bt").button(),$("#visitorDialog").dialog({title:"Add Guests Dialog",bgiframe:!0,autoOpen:!1,width:750,height:700,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","")}}),$("#addvisitor,#addregistered").click(function(n){if(n.preventDefault(),n.shiftKey)confirm("Are you sure you want to join all guests to org?")&&$.post("/Meeting/JoinAllVisitors/"+$("#meetingid").val(),{},function(n){alert(n)});else{var t=$("#visitorDialog");$("iframe",t).attr("src",this.href),t.dialog("open")}}),$("#JoinAllVisitors").click(function(n){n.preventDefault()}),$("#showbuttons input[name=show]:checked").val()=="attends"&&$(".atck:not(:checked)").parent().parent().hide(),$.atckenabled=$("#editing").is(":checked"),$("#attends > tbody > tr:visible:even").addClass("alt"),$("#showbuttons input:radio").change(function(){var n=$(this);$.blockUI({overlayCSS:{opacity:0},css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#fff"},onBlock:function(){$("#attends > tbody > tr").hide().removeClass("alt");switch(n.val()){case"attends":$(".atck:checked").parent().parent().show();break;case"absents":$(".atck:not(:checked)").parent().parent().show();break;case"reg":$(".commitment:not(:contains('Uncommitted'))").parent().parent().show(),$(".atck:checked").parent().parent().show();break;case"all":$("#attends > tbody > tr").show()}$("#attends > tbody > tr:visible:even").addClass("alt"),$.unblock()}})}),$("#currmembers").change(function(){window.location=$(this).is(":checked")?"/Meeting/Index/"+$("#meetingid").val()+"?CurrentMembers=true":"/Meeting/Index/"+$("#meetingid").val()}),$("#editing").change(function(){$(this).is(":checked")?($("#showregistered").val()||($.block(),$("#showbuttons input:radio[value=all]").click(),$.unblock()),$.atckenabled=!0):$.atckenabled=!1}),$("#sortbyname").click(function(){$("#sort").val()=="false"?($("#sort").val("true"),$("#attends > tbody > tr").sortElements(function(n,t){return $(n).find("td.name a").text()>$(t).find("td.name a").text()?1:-1})):($("#sort").val("false"),$("#attends > tbody > tr").sortElements(function(n,t){var i=$(n).attr("rowtype"),r=$(t).attr("rowtype");return i>r?-1:i<r?1:$(n).find("td.name a").text()>$(t).find("td.name a").text()?1:-1}))}),$("#registering").change(function(){$(this).is(":checked")?($(".showreg").show(),$("#addregistered").removeClass("hidden")):($(".showreg").hide(),$("#addregistered").addClass("hidden"))}),$("#showregistered").val()&&($("#showbuttons input:radio[value=reg]").click(),$("#registering").click()),$("#attends").bind("mousedown",function(n){if($.atckenabled&&($(n.target).hasClass("rgck")&&$(n.target).editable("/Meeting/EditCommitment/",{indicator:'<img src="/images/loading.gif">',loadtype:"post",loadurl:"/Meeting/AttendCommitments/",type:"select",submit:"OK",style:"display: inline"}),$(n.target).hasClass("atck"))){n.preventDefault();var t=$(n.target);$.atckClick(t)}}),$.atckClick=function(n){n.prop("checked",!n.prop("checked"));var t=n.parent().parent();$.post("/Meeting/MarkAttendance/",{MeetingId:$("#meetingid").val(),PeopleId:n.attr("pid"),Present:n.is(":checked")},function(i){if(i.error)n.attr("checked",!n.is(":checked")),alert(i.error);else{t.effect("highlight",{},3e3);for(var r in i)$("#"+r+" span").text(i[r])}})},$("#wandtarget").keypress(function(n){var r,t,i;return n.which!=13?!0:($("#editing").is(":checked")||$("#editing").click(),r=$("#wandtarget"),t=r.val(),r.val(""),t.substring(2,0)=="M.")?($.post("/Meeting/CreateMeeting/",{id:t},function(n){n.substring(5,0)=="error"?alert(n):window.location=n}),!1):(i=$("input[pid="+t+"].atck"),i[0]&&(i[0].scrollIntoView(),$.atckClick(i)),!1)}),$("#wandtarget").focus(),$.extraEditable=function(){$(".editarea").editable("/Meeting/EditExtra/",{type:"textarea",submit:"OK",rows:5,width:200,indicator:'<img src="/images/loading.gif">',tooltip:"Click to edit..."}),$(".editline").editable("/Meeting/EditExtra/",{indicator:"<img src='/images/loading.gif'>",tooltip:"Click to edit...",style:"display: inline",width:200,height:25,submit:"OK"})},$("#newvalueform").dialog({autoOpen:!1,buttons:{Ok:function(){var t=$("#multiline").is(":checked"),n=$("#fieldname").val(),i=$("#fieldvalue").val();n&&$.post("/Meeting/NewExtraValue/"+$("#meetingid").val(),{field:n,value:i,multiline:t},function(n){n.startsWith("error")?alert(n):($("#extras > tbody").html(n),$.extraEditable()),$("#fieldname").val("")}),$(this).dialog("close")}}});$("body").on("click","#newextravalue",function(n){n.preventDefault();var t=$("#newvalueform");t.dialog("open")});$("body").on("click","a.deleteextra",function(n){return n.preventDefault(),confirm("are you sure?")&&$.post("/Meeting/DeleteExtra/"+$("#meetingid").val(),{field:$(this).attr("field")},function(n){n.startsWith("error")?alert(n):($("#extras > tbody").html(n),$.extraEditable())}),!1});$("#rollsheetoptions").dialog({autoOpen:!1,buttons:{Ok:function(){var i=$("#bygroup").is(":checked"),t=$("#sgprefix").val(),n="?MeetingId="+$("#meetingid").val();i&&(n=n.appendQuery("bygroup=1")),t.length>0&&(n=n.appendQuery("sgprefix="+t)),$(this).dialog("close"),window.open("/Reports/Rollsheet"+n)}}});$("body").on("click","#rollsheet",function(n){n.preventDefault();var t=$("#rollsheetoptions");t.dialog("open")})});
//@ sourceMappingURL=meeting.min.js.map