function RebindMemberGrids(){$.updateTable($("#current-tab form")),$.updateTable($("#pending-tab form")),$("#memberDialog").dialog("close")}function RebindUserInfoGrid(){$.updateTable($("#user-tab form")),$("#memberDialog").dialog("close")}function AddSelected(n){window.location="/Merge?PeopleId1="+$("#PeopleId").val()+"&PeopleId2="+n.pid}$(function(){var t=$("#address-tab").tabs(),n;$("#enrollment-tab").tabs(),$("#member-tab").tabs(),$("#growth-tab").tabs(),$("#system-tab").tabs(),$("#main-tab").tabs(),$("#main-tab").show(),$(".submitbutton,.bt").button(),n=$('#address-tab a[href="#'+$("#addrtab").val()+'"]').parent().index(),t.tabs("option","active",n),$("#dialogbox").dialog({title:"Search Dialog",bgiframe:!0,autoOpen:!1,width:700,height:630,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","")}}),$("#clipaddr").live("click",function(){var t=$("#addrhidden")[0],n;return t.createTextRange&&(n=t.createTextRange(),n&&n.execCommand("Copy")),!1}),$("#deleteperson").click(function(){var n=$(this).attr("href");return confirm("Are you sure you want to delete?")&&$.post(n,null,function(n){n!="ok"?($.block("delete Failed: "+n),$(".blockOverlay").attr("title","Click to unblock").click($.unblock)):($.block("person deleted"),$(".blockOverlay").attr("title","Click to unblock").click(function(){$.unblock(),window.location="/"}))}),!1});$("body").on("click","a.deloptout",function(n){n.preventDefault();var t=$(this).attr("href");confirm("Are you sure you want to delete?")&&$.post(t,{},function(n){n!="ok"?$.growlUI("failed",n):($.updateTable($("#user-tab form")),$.growlUI("Success","OptOut deleted"))})});$("#moveperson").click(function(n){n.preventDefault();var t=$("#dialogbox");return $("iframe",t).attr("src",this.href),t.dialog("option","title","Merge To Person"),t.dialog("open"),!1}),$.editable.addInputType("datepicker",{element:function(n){var t=$("<input>");return n.width!="none"&&t.width(n.width),n.height!="none"&&t.height(n.height),t.attr("autocomplete","off"),$(this).append(t),t},plugin:function(n){var t=this;n.onblur="ignore",$(this).find("input").datepicker().bind("click",function(){return $(this).datepicker("show"),!1}).bind("dateSelected",function(){$(t).submit()})}}),$.editable.addInputType("multiselect",{element:function(n){var t=$('<select multiple="multiple" />');return n.width!="none"&&t.width(n.width),n.size&&t.attr("size",n.size),$(this).append(t),t},content:function(n){var t,i;for(t in n)i=$("<option />").val(t).text(t),n[t]==!0&&i.attr("selected",!0),$("select",this).append(i);$("select",this).multiselect({close:function(){var n=$("select").val()},position:{my:"left bottom",at:"left top"}})}}),$.extraEditable=function(n){$(".editarea",n).editable("/Person/EditExtra/",{type:"textarea",submit:"OK",rows:10,width:600,indicator:'<img src="/images/loading.gif">',tooltip:"Click to edit..."}),$(".clickEdit",n).editable("/Person/EditExtra/",{indicator:"<img src='/images/loading.gif'>",tooltip:"Click to edit...",style:"display: inline",width:"300px",height:25,submit:"OK"}),$(".clickDatepicker").editable("/Person/EditExtra/",{type:"datepicker",tooltip:"Click to edit...",style:"display: inline",width:"300px",submit:"OK"}),$(".clickSelect",n).editable("/Person/EditExtra/",{indicator:'<img src="/images/loading.gif">',loadurl:"/Person/ExtraValues/",loadtype:"POST",type:"select",submit:"OK",style:"display: inline"}),$(".clickCheckbox",n).editable("/Person/EditExtra",{type:"checkbox",onblur:"ignore",submit:"OK"}),$(".clickMultiselect",n).editable("/Person/EditExtra",{indicator:'<img src="/images/loading.gif">',loadurl:"/Person/ExtraValues2/",loadtype:"POST",type:"multiselect",submit:"OK",onblur:"ignore",style:"display: inline"})},$.getTable=function(n){var t=n.serialize();return $.post(n.attr("action"),t,function(t){$(n).html(t).ready(function(){$("table.grid > tbody > tr:even",n).addClass("alt"),$(".bt").button(),$(".datepicker").datepicker(),$.extraEditable("#extravalues"),$(".tooltip",n).tooltip({showURL:!1,showBody:"|"})})}),!1},$("#memberDialog").dialog({title:"Member Dialog",bgiframe:!0,autoOpen:!1,width:600,height:550,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","")}}),$("form a.membertype").live("click",function(n){n.preventDefault();var t=$("#memberDialog");$("iframe",t).attr("src",this.href),t.dialog("open")}),$("#previous-tab form a.membertype").live("click",function(n){n.preventDefault();var t=$("#memberDialog");$("iframe",t).attr("src",this.href),t.dialog("open")}),$(".CreateAndGo").click(function(){return confirm($(this).attr("confirm"))&&$.post($(this).attr("href"),null,function(n){window.location=n}),!1}),$("#enrollment-link").click(function(){$.showTable($("#current-tab form"))}),$("#previous-link").click(function(){$.showTable($("#previous-tab form"))}),$("#pending-link").click(function(){$.showTable($("#pending-tab form"))}),$("#attendance-link").click(function(){$.showTable($("#attendance-tab form"))}),$("#contacts-link").click(function(){$("#contacts-tab form").each(function(){$.showTable($(this))})}),$("#member-link").click(function(){var n=$("#memberdisplay");$("table",n).size()==0&&($.post(n.attr("action"),null,function(t){$(n).html(t).ready(function(){$.UpdateForSection(n),ShowMemberExtras()})}),$.showTable($("#extras-tab form")),$.extraEditable("#extravalues"))}),$("#system-link").click(function(){$.showTable($("#user-tab form"))}),$("#changes-link").click(function(){$.showTable($("#changes-tab form"))}),$("#volunteer-link").click(function(){$.showTable($("#volunteer-tab form"))}),$("#duplicates-link").click(function(){$.showTable($("#duplicates-tab form"))}),$("#optouts-link").click(function(){$.showTable($("#optouts-tab form"))}),$("#family table.grid > tbody > tr:even").addClass("alt"),$("#recreg-link").click(function(n){var t,i;return(n.preventDefault(),t=$("#recreg-tab form"),$("table",t).size()>0)?!1:(i=t.serialize(),$.post(t.attr("action"),i,function(n){$(t).html(n),$(".bt",t).button()}),!1)}),$("a.displayedit").live("click",function(n){n.preventDefault();var t=$(this).closest("form");return $.post($(this).attr("href"),null,function(n){$(t).html(n).ready(function(){$.UpdateForSection(t)})}),!1}),$.UpdateForSection=function(n){return $("#Employer",n).autocomplete({minLength:3,source:"/Person/Employers"}),$("#School",n).autocomplete({minLength:3,source:"/Person/Schools"}),$("#Occupation",n).autocomplete({minLength:3,source:"/Person/Occupations"}),$("#NewChurch",n).autocomplete({minLength:3,source:"/Person/Churches"}),$("#PrevChurch",n).autocomplete({minLength:3,source:"/Person/Churches"}),$("#newlook").val()=="true"&&($("form select").chosen(),$("input.date").datepicker()),$(".datepicker").datepicker(),$(".submitbutton,.bt",n).button(),!1};$("form").on("click","#verifyaddress",function(){var n=$(this).closest("form"),t=n.serialize();return $.post($(this).attr("href"),t,function(t){confirm(t.address+"\nUse this Address?")&&($("#Address1",n).val(t.Line1),$("#Address2",n).val(t.Line2),$("#City",n).val(t.City),$("#State",n).val(t.State),$("#Zip",n).val(t.Zip))}),!1});$("form.DisplayEdit a.submitbutton").live("click",function(n){var t,i;return(n.preventDefault(),t=$(this).closest("form"),!$(t).valid())?!1:(i=t.serialize(),$.post($(this).attr("href"),i,function(n){$(t).html(n).ready(function(){var n=$("#businesscard");$.post($(n).attr("href"),null,function(t){$(n).html(t)}),$(".submitbutton,.bt").button()})}),!1)});$("form").on("click","#future",function(n){n.preventDefault();var t=$(this).closest("form"),i=t.serialize();$.post($(t).attr("action"),i,function(n){$(t).html(n)})});$("form.DisplayEdit").submit(function(){return $("#submitit").val()?!0:!1}),$.validator.addMethod("date2",function(n,t){var i=$.DateValid(n);return this.optional(t)||i},$.format("Please enter valid date")),$.validator.setDefaults({highlight:function(n){$(n).addClass("ui-state-highlight")},unhighlight:function(n){$(n).removeClass("ui-state-highlight")},rules:{NickName:{maxlength:15},Title:{maxlength:10},First:{maxlength:25},Middle:{maxlength:15},Last:{maxlength:100,required:!0},Suffix:{maxlength:10},AltName:{maxlength:100},Maiden:{maxlength:20},HomePhone:{maxlength:20},CellPhone:{maxlength:20},WorkPhone:{maxlength:20},EmailAddress:{maxlength:150},School:{maxlength:60},Employer:{maxlength:60},Occupation:{maxlength:60},WeddingDate:{date2:!0},DeceasedDate:{date2:!0},Grade:{number:!0},Address1:{maxlength:40},Address2:{maxlength:40},City:{maxlength:30},Zip:{maxlength:15},FromDt:{date2:!0},ToDt:{date2:!0},DecisionDate:{date2:!0},JoinDate:{date2:!0},BaptismDate:{date2:!0},BaptismSchedDate:{date2:!0},DropDate:{date2:!0},NewMemberClassDate:{date2:!0}}}),$("#addrf").validate(),$("#addrp").validate(),$("#basic").validate();$("body").on("change",".atck",function(){var n=$(this);$.post("/Meeting/MarkAttendance/",{MeetingId:$(this).attr("mid"),PeopleId:$(this).attr("pid"),Present:n.is(":checked")},function(t){if(t.error)n.attr("checked",!n.is(":checked")),alert(t.error);else{var i=n.closest("form"),r=i.serialize();$.post($(i).attr("action"),r,function(n){$(i).html(n)})}})});$("#newvalueform").dialog({autoOpen:!1,buttons:{Ok:function(){var t=$("input[name='typeval']:checked").val(),n=$("#fieldname").val(),i=$("#fieldvalue").val();n&&$.post("/Person/NewExtraValue/"+$("#PeopleId").val(),{field:n,type:t,value:i},function(n){n.startsWith("error")?alert(n):($.getTable($("#extras-tab form")),$.extraEditable("#extravalues")),$("#fieldname").val(""),$("#fieldvalue").val("")}),$(this).dialog("close")}}});$("body").on("click","#newextravalue",function(n){n.preventDefault();var t=$("#newvalueform");t.dialog("open")});$("body").on("click","a.deleteextra",function(n){return n.preventDefault(),confirm("are you sure?")&&$.post("/Person/DeleteExtra/"+$("#PeopleId").val(),{field:$(this).attr("field")},function(n){n.startsWith("error")?alert(n):($.getTable($("#extras-tab form")),$.extraEditable("#extravalues"))}),!1});$("form").on("click","a.reverse",function(n){n.preventDefault();var t=$(this).closest("form");$.post("/Person/Reverse",{id:$("#PeopleId").val(),field:$(this).attr("field"),value:$(this).attr("value"),pf:$(this).attr("pf")},function(n){$(t).html(n)})});$.editable.addInputType("checkbox",{element:function(){var n=$('<input type="checkbox">');return $(this).append(n),$(n).click(function(){var t=$(n).attr("checked")?"True":"False";$(n).val(t)}),n},content:function(n){var r=n=="True"?!0:!1,t=$(":input:first",this),i;$(t).attr("checked",r),i=$(t).attr("checked")?"True":"False",$(t).val(i)}}),$("#vtab>ul>li").click(function(){$("#vtab>ul>li").removeClass("selected"),$(this).addClass("selected");var n=$("#vtab>ul>li").index($(this));$("#vtab>div").hide().eq(n).show()})});
//@ sourceMappingURL=Person.min.js.map