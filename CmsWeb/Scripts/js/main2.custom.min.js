function dimOff(){$("#darkLayer").hide()}function dimOn(){$("#darkLayer").show()}$(function(){$.gotoPage=function(n,t){var i=$(n).closest("form");return $("#Page",i).val(t),$.getTable(i)},$.setPageSize=function(n,t){var i=$(n).closest("form");return $("#Page",i).val(1),$("#PageSize",i).val(t),$.getTable(i)},$("table.grid > thead a.sortable").live("click",function(){var n=$(this).closest("form"),i=$(this).text(),r=$("#Sort",n),t=$("#Direction",n);return $(r).val()==i&&$(t).val()=="asc"?$(t).val("desc"):$(t).val("asc"),$(r).val(i),$.getTable(n),!1}),$.showTable=function(n){return $("table.table",n).size()==0&&$.getTable(n),!1},$.updateTable=function(n){return $("table.table",n).size()>0&&$.getTable(n),!1};$("body").on("click","input[name='toggletarget']",function(){$('a.target[target="people"]').length==0?($("a.target").attr("target","people"),$("input[name='toggletarget']").attr("checked",!0)):($("a.target").removeAttr("target"),$("input[name='toggletarget']").removeAttr("checked"))})}),$(function(){$("#SearchText").each(function(){var n="";$(this).autocomplete({appendTo:"#SearchResults",position:{my:"right top",at:"right bottom",of:$("#SearchText")},minLength:3,autoFocus:!0,open:function(){$("#SearchResults > ul").css("z-index",1002)},close:function(){var t=$(this).val();if(n!==t&&t!=="")return $("#SearchText").autocomplete("search");$("#SearchText").val("")},source:function(t,i){t.term==="---"?i([{id:-1,line1:"People Search"},{id:-2,line1:"Advanced Search"},{id:-3,line1:"Organization Search"}]):(n=t.term,$.post("/Home/Names",t,function(n){i(n.slice(0,15))},"json"))},select:function(t,i){var r=$(this).val();return n!==r&&r!==""?!1:(window.location=i.item.id===-1?"/PeopleSearch?name="+n:i.item.id===-2?"/QueryBuilder/Main":i.item.id===-3?"/OrgSearch":(i.item.isOrg?"/Organization/Index/":"/Person/Index/")+i.item.id,!0)},focus:function(n){n.preventDefault()}}).data("uiAutocomplete")._renderItem=function(n,t){if(t.id===0)return $("<li>").append("<hr/>").appendTo(n);var i="<a><b>"+(t.isOrg?"Org: ":"")+t.line1+"<\/b>";return t.id>0&&(i+="<br>"+(t.isOrg?"Div: ":"")+t.line2),i+="<\/a>",$("<li>").append(i).appendTo(n)}}),$("a.tutorial").click(function(n){n.preventDefault(),startTutorial($(this).attr("href"))}),$("#cleartag").click(function(n){n.preventDefault(),confirm("are you sure you want to empty the active tag?")&&$.post("/Tags/ClearTag",{},function(){window.location.reload()})}),$(".warntip").tooltip({delay:150,showBody:"|",showURL:!1}),$.QueryString=function(n,t){var i={};return $.each(n.split("&"),function(){var n=this.split("=");i[n[0]]=n[1]}),i[t]},$.block=function(n){n||(n="<h1>working on it...<\/h1>"),$.blockUI({message:n,overlayCSS:{opacity:0},css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#fff"}})},$.unblock=function(){$.unblockUI()},$.navigate=function(n,t){n+=(n.match(/\?/)?"&":"?")+t,window.location=n},$.DateValid=function(n,t){var r=/^(0?[1-9]|1[012])[\/-](0?[1-9]|[12][0-9]|3[01])[\/-]((19|20)?[0-9]{2})$/i,i;return $.dtoptions.format.startsWith("d")&&(r=/^(0?[1-9]|[12][0-9]|3[01])[\/-](0?[1-9]|1[012])[\/-]((19|20)?[0-9]{2})$/i),i=!0,r.test(n)||(t==!0&&$.growlUI("error","enter valid date"),i=!1),i},jQuery.fn.center=function(n){return n=n?this.parent():window,this.css({position:"absolute",top:($(n).height()-this.outerHeight())/2+$(n).scrollTop()+"px",left:($(n).width()-this.outerWidth())/2+$(n).scrollLeft()+"px"}),this},$("#SearchText").each(function(){$(this).addClass("text-label"),$(this).focus(function(){(this.value===""||this.value===$(this).attr("default"))&&(this.value="",$(this).removeClass("text-label"),$(this).autocomplete("search","---"))}),$(this).blur(function(){this.value===""&&$(this).attr("default")&&(this.value=$(this).attr("default"),$(this).addClass("text-label"))})}),$.fn.alert=function(n){this.html('<div class="alert"><a class="close" data-dismiss="alert">×<\/a><span>'+n+"<\/span><\/div>")}}),String.prototype.startsWith=function(n){return n==this.substring(0,n.length)},String.prototype.appendQuery=function(n){return this&&this.length>0?this.contains("&")||this.contains("?")?this+"&"+n:this+"?"+n:n},String.prototype.contains=function(n){return this.indexOf(n)!=-1},String.prototype.endsWith=function(n){return n==this.substring(this.length-n.length)},String.prototype.addCommas=function(){for(var t=this.split("."),n=t[0],r=t.length>1?"."+t[1]:"",i=/(\d+)(\d{3})/;i.test(n);)n=n.replace(i,"$1,$2");return n+r},$(function(){$.AttachFormElements=function(n){$("input.ajax-typeahead",n).typeahead({minLength:3,source:function(n,t){return $.ajax({url:$(this.$element[0]).data("link"),type:"post",data:{query:n},dataType:"json",success:function(n){return typeof n=="undefined"?!1:t(n)}})}}),$("select",n).chosen(),$(".date",n).datepicker()},$("div.modal form.ajax").live("submit",function(n){var t=$(this),i=t.closest("div.modal");$.ajax({type:"POST",url:t.attr("action"),data:t.serialize(),success:function(n){i.html(n);var r=($(window).height()-i.height())/2;r<10&&(r=10),i.css({"margin-top":r,top:"0"}),$.AttachFormElements(t)}}),n.preventDefault()}),$("form.ajax a.ajax").live("click",function(n){var r=$(this),t=r.closest("form.ajax"),i=t.closest("div.modal"),u=r[0].href,f=t.serialize();$.ajax({type:"POST",url:u,data:f,success:function(n){if(i.length>0){i.html(n);var r=($(window).height()-i.height())/2;r<10&&(r=10),i.css({"margin-top":r,top:"0"})}else t.html(n);$.AttachFormElements(t)},error:function(n,t,i){alert(n.status),alert(i)}}),n.preventDefault()});$("body").on({ajaxStart:function(){$("#loading-indicator").css({position:"absolute",left:$(window).width()/2,top:$(window).height()/2,"z-index":2e3}).show()},ajaxStop:function(){$("#loading-indicator").hide()}})}),$(function(){$("a.searchadd").live("click",function(n){n.preventDefault(),$("<div id='search-add' class='modal fade hide' data-width='600' data-keyboard='false' data-backdrop='static' />").load($(this).attr("href"),{},function(){$(this).modal("show");$(this).on("hidden",function(){$(this).remove()})})}),$("#search-add a.clear").live("click",function(n){return n.preventDefault(),$("#name").val(""),$("#phone").val(""),$("#address").val(""),$("#dob").val(""),!1}),$("form.ajax tbody > tr a.reveal").live("click",function(n){n.stopPropagation()}),$.NotReveal=function(n){return $(n.target).is("a")&&!$(n.target).is(".reveal")?!0:!1},$("form.ajax tr.section.notshown").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),n.stopPropagation(),$(this).removeClass("notshown").addClass("shown"),$(this).nextUntil("tr.section").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("show"))}),$("form.ajax tr.section.shown").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),$(this).nextUntil("tr.section").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("hide"),$(this).removeClass("shown").addClass("notshown"))}),$('form.ajax a[rel="reveal"]').live("click",function(n){n.preventDefault(),$(this).parents("tr").next("tr").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("toggle")}),$("form.ajax tr.master").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),$(this).next("tr").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("toggle"))}),$("form.ajax tr.details").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),n.stopPropagation(),$(this).find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("hide"))})});
//@ sourceMappingURL=main2.custom.min.js.map