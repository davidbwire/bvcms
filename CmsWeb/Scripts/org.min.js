function RebindMemberGrids(){$.updateTable($("#Members-tab form")),$.updateTable($("#Inactive-tab form")),$.updateTable($("#Pending-tab form")),$.updateTable($("#Priors-tab form")),$.updateTable($("#Visitors-tab form")),$("#memberDialog").dialog("close")}function CloseAddDialog(){$("#memberDialog").dialog("close")}function UpdateSelectedUsers(){}function UpdateSelectedOrgs(n){$.post("/Organization/UpdateOrgIds",{id:$("#OrganizationId").val(),list:n},function(n){$("#orgpickdiv").html(n),$("#orgsDialog").dialog("close")})}(function(n){function r(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},n.extend(this._defaults,this.regional[""])}if(n.ui.timepicker=n.ui.timepicker||{},!n.ui.timepicker.version){n.extend(n.ui,{timepicker:{version:"1.1.1"}}),n.extend(r.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(n){return u(this._defaults,n||{}),this},_newInst:function($input,o){var tp_inst=new r,inlineSettings={},fns={},overrides,i,attrName,attrValue,timezoneList;for(attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)&&(attrValue=$input.attr("time:"+attrName),attrValue))try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}overrides={beforeShow:function(t,i){if(n.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],t,i,tp_inst)},onChangeMonthYear:function(t,i,r){tp_inst._updateDateTime(r),n.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],t,i,r,tp_inst)},onClose:function(t,i){tp_inst.timeDefined===!0&&$input.val()!==""&&tp_inst._updateDateTime(i),n.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],t,i,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=o[i]||null);return tp_inst._defaults=n.extend({},this._defaults,inlineSettings,o,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=n.map(tp_inst._defaults.amNames,function(n){return n.toUpperCase()}),tp_inst.pmNames=n.map(tp_inst._defaults.pmNames,function(n){return n.toUpperCase()}),typeof tp_inst._defaults.controlType=="string"?(n.fn[tp_inst._defaults.controlType]===undefined&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType,tp_inst._defaults.timezoneList===null&&(timezoneList=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"],tp_inst._defaults.timezoneIso8601&&(timezoneList=n.map(timezoneList,function(n){return n=="+0000"?"Z":n.substring(0,3)+":"+n.substring(3)})),tp_inst._defaults.timezoneList=timezoneList),tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=n(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0)&&(tp_inst._defaults.minDate=new Date),(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0)&&(tp_inst._defaults.maxDate=new Date),tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(n){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(n,!1),this._injectTimePicker()},_parseTime:function(t,i){var r,u,f;if(this.inst||(this.inst=n.datepicker._getInst(this.$input[0])),i||!this._defaults.timeOnly){r=n.datepicker._get(this.inst,"dateFormat");try{if(u=e(r,this._defaults.timeFormat,t,n.datepicker._getFormatConfig(this.inst),this._defaults),!u.timeObj)return!1;n.extend(this,u.timeObj)}catch(o){return n.datepicker.log("Error parsing the date/time string: "+o+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+r),!1}return!0}return(f=n.datepicker.parseTime(this._defaults.timeFormat,t,this._defaults),!f)?!1:(n.extend(this,f),!0)},_injectTimePicker:function(){var p=this.inst.dpDiv,u=this.inst.settings,f=this,r="",h="",a={},c={},w=null,l,o,b,nt,y,e,s,v,tt,it,d,rt,g,k;if(p.find("div.ui-timepicker-div").length===0&&u.showTimepicker){for(l=' style="display:none;"',o='<div class="ui-timepicker-div'+(u.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(u.showTime?"":l)+">"+u.timeText+'<\/dt><dd class="ui_tpicker_time"'+(u.showTime?"":l)+"><\/dd>",s=0,v=this.units.length;s<v;s++){if(r=this.units[s],h=r.substr(0,1).toUpperCase()+r.substr(1),a[r]=parseInt(u[r+"Max"]-(u[r+"Max"]-u[r+"Min"])%u["step"+h],10),c[r]=0,o+='<dt class="ui_tpicker_'+r+'_label"'+(u["show"+h]?"":l)+">"+u[r+"Text"]+'<\/dt><dd class="ui_tpicker_'+r+'"><div class="ui_tpicker_'+r+'_slider"'+(u["show"+h]?"":l)+"><\/div>",u["show"+h]&&u[r+"Grid"]>0){if(o+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',r=="hour")for(b=u[r+"Min"];b<=a[r];b+=parseInt(u[r+"Grid"],10))c[r]++,nt=n.datepicker.formatTime(t(u.pickerTimeFormat||u.timeFormat)?"hht":"HH",{hour:b},u),o+='<td data-for="'+r+'">'+nt+"<\/td>";else for(y=u[r+"Min"];y<=a[r];y+=parseInt(u[r+"Grid"],10))c[r]++,o+='<td data-for="'+r+'">'+(y<10?"0":"")+y+"<\/td>";o+="<\/tr><\/table><\/div>"}o+="<\/dd>"}for(o+='<dt class="ui_tpicker_timezone_label"'+(u.showTimezone?"":l)+">"+u.timezoneText+"<\/dt>",o+='<dd class="ui_tpicker_timezone" '+(u.showTimezone?"":l)+"><\/dd>",o+="<\/dl><\/div>",e=n(o),u.timeOnly===!0&&(e.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+u.timeOnlyTitle+"<\/div><\/div>"),p.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),s=0,v=f.units.length;s<v;s++)r=f.units[s],h=r.substr(0,1).toUpperCase()+r.substr(1),f[r+"_slider"]=f.control.create(f,e.find(".ui_tpicker_"+r+"_slider"),r,f[r],u[r+"Min"],a[r],u["step"+h]),u["show"+h]&&u[r+"Grid"]>0&&(w=100*c[r]*u[r+"Grid"]/(a[r]-u[r+"Min"]),e.find(".ui_tpicker_"+r+" table").css({width:w+"%",marginLeft:u.isRTL?"0":w/(-2*c[r])+"%",marginRight:u.isRTL?w/(-2*c[r])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var i=n(this),u=i.html(),t=parseInt(u.replace(/[^0-9]/g),10),e=u.replace(/[^apm]/ig),o=i.data("for");o=="hour"&&(e.indexOf("p")!==-1&&t<12?t+=12:e.indexOf("a")!==-1&&t===12&&(t=0)),f.control.value(f,f[o+"_slider"],r,t),f._onTimeChange(),f._onSelectHandler()}).css({cursor:"pointer",width:100/c[r]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=e.find(".ui_tpicker_timezone").append("<select><\/select>").find("select"),n.fn.append.apply(this.timezone_select,n.map(u.timezoneList,function(t){return n("<option />").val(typeof t=="object"?t.value:t).text(typeof t=="object"?t.label:t)})),typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""?(tt=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),it=n.timepicker.timeZoneOffsetString(tt),it==this.timezone?i(f):this.timezone_select.val(this.timezone)):typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""?this.timezone_select.val(u.defaultTimezone):i(f),this.timezone_select.change(function(){f._defaults.useLocalTimezone=!1,f._onTimeChange()}),d=p.find(".ui-datepicker-buttonpane"),d.length?d.before(e):p.append(e),this.$timeObj=e.find(".ui_tpicker_time"),this.inst!==null&&(rt=this.timeDefined,this._onTimeChange(),this.timeDefined=rt),this._defaults.addSliderAccess&&(g=this._defaults.sliderAccessArgs,k=this._defaults.isRTL,g.isRTL=k,setTimeout(function(){if(e.find(".ui-slider-access").length===0){e.find(".ui-slider:visible").sliderAccess(g);var t=e.find(".ui-slider-access:eq(0)").outerWidth(!0);t&&e.find("table:visible").each(function(){var i=n(this),r=i.outerWidth(),e=i.css(k?"marginRight":"marginLeft").toString().replace("%",""),u=r-t,o=e*u/r+"%",f={width:u,marginRight:0,marginLeft:0};f[k?"marginRight":"marginLeft"]=o,i.css(f)})}},10))}},_limitMinMaxDateTime:function(t,i){var r=this._defaults,e=new Date(t.selectedYear,t.selectedMonth,t.selectedDay),u,o,f,s;if(this._defaults.showTimepicker&&(n.datepicker._get(t,"minDateTime")!==null&&n.datepicker._get(t,"minDateTime")!==undefined&&e&&(u=n.datepicker._get(t,"minDateTime"),o=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0),(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)&&(this.hourMinOriginal=r.hourMin,this.minuteMinOriginal=r.minuteMin,this.secondMinOriginal=r.secondMin,this.millisecMinOriginal=r.millisecMin),t.settings.timeOnly||o.getTime()==e.getTime()?(this._defaults.hourMin=u.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=u.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=u.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=u.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)),n.datepicker._get(t,"maxDateTime")!==null&&n.datepicker._get(t,"maxDateTime")!==undefined&&e&&(f=n.datepicker._get(t,"maxDateTime"),s=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0),(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)&&(this.hourMaxOriginal=r.hourMax,this.minuteMaxOriginal=r.minuteMax,this.secondMaxOriginal=r.secondMax,this.millisecMaxOriginal=r.millisecMax),t.settings.timeOnly||s.getTime()==e.getTime()?(this._defaults.hourMax=f.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=f.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=f.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=f.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)),i!==undefined&&i===!0)){var h=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),l=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),a=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:h}),this.control.value(this,this.hour_slider,"hour",this.hour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c}),this.control.value(this,this.minute_slider,"minute",this.minute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:l}),this.control.value(this,this.second_slider,"second",this.second)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:a}),this.control.value(this,this.millisec_slider,"millisec",this.millisec))}},_onTimeChange:function(){var i=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,u=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,f=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,e=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,o=this.timezone_select?this.timezone_select.val():!1,r=this._defaults,h=r.pickerTimeFormat||r.timeFormat,c=r.pickerTimeSuffix||r.timeSuffix,l,s;typeof i=="object"&&(i=!1),typeof u=="object"&&(u=!1),typeof f=="object"&&(f=!1),typeof e=="object"&&(e=!1),typeof o=="object"&&(o=!1),i!==!1&&(i=parseInt(i,10)),u!==!1&&(u=parseInt(u,10)),f!==!1&&(f=parseInt(f,10)),e!==!1&&(e=parseInt(e,10)),l=r[i<12?"amNames":"pmNames"][0],s=i!=this.hour||u!=this.minute||f!=this.second||e!=this.millisec||this.ampm.length>0&&i<12!=(n.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||this.timezone===null&&o!=this.defaultTimezone||this.timezone!==null&&o!=this.timezone,s&&(i!==!1&&(this.hour=i),u!==!1&&(this.minute=u),f!==!1&&(this.second=f),e!==!1&&(this.millisec=e),o!==!1&&(this.timezone=o),this.inst||(this.inst=n.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),t(r.timeFormat)&&(this.ampm=l),this.formattedTime=n.datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(h===r.timeFormat?this.$timeObj.text(this.formattedTime+c):this.$timeObj.text(n.datepicker.formatTime(h,this,r)+c)),this.timeDefined=!0,s&&this._updateDateTime()},_onSelectHandler:function(){var n=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;n&&t&&n.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(t){var i;t=this.inst||t;var r=n.datepicker._daylightSavingAdjust(new Date(t.selectedYear,t.selectedMonth,t.selectedDay)),o=n.datepicker._get(t,"dateFormat"),f=n.datepicker._getFormatConfig(t),s=r!==null&&this.timeDefined;if(this.formattedDate=n.datepicker.formatDate(o,r===null?new Date:r,f),i=this.formattedDate,this._defaults.timeOnly===!0?i=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||s)&&(i+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=i,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(i);var u="",h=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,e=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;u=this._defaults.altFormat?n.datepicker.formatDate(this._defaults.altFormat,r===null?new Date:r,f):this.formattedDate,u&&(u+=h),u+=this._defaults.altTimeFormat?n.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+e:this.formattedTime+e,this.$altInput.val(u)}else this.$input.val(i);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var t=n.datepicker._getInst(this.$input.get(0)),i=n.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!=t.lastVal)try{n.datepicker._updateDatepicker(t)}catch(r){n.datepicker.log(r)}}},_controls:{slider:{create:function(t,i,r,u,f,e,o){var s=t._defaults.isRTL;return i.prop("slide",null).slider({orientation:"horizontal",value:s?u*-1:u,min:s?e*-1:f,max:s?f*-1:e,step:o,slide:function(i,u){t.control.value(t,n(this),r,s?u.value*-1:u.value),t._onTimeChange()},stop:function(){t._onSelectHandler()}})},options:function(n,t,i,r,u){if(n._defaults.isRTL){if(typeof r=="string")return r=="min"||r=="max"?u!==undefined?t.slider(r,u*-1):Math.abs(t.slider(r)):t.slider(r);var f=r.min,e=r.max;return r.min=r.max=null,f!==undefined&&(r.max=f*-1),e!==undefined&&(r.min=e*-1),t.slider(r)}return typeof r=="string"&&u!==undefined?t.slider(r,u):t.slider(r)},value:function(n,t,i,r){return n._defaults.isRTL?r!==undefined?t.slider("value",r*-1):Math.abs(t.slider("value")):r!==undefined?t.slider("value",r):t.slider("value")}},select:{create:function(i,r,u,f,e,o,s){for(var c='<select class="ui-timepicker-select" data-unit="'+u+'" data-min="'+e+'" data-max="'+o+'" data-step="'+s+'">',l=i._defaults.timeFormat.indexOf("t")!==-1?"toLowerCase":"toUpperCase",h=e;h<=o;h+=s)c+='<option value="'+h+'"'+(h==f?" selected":"")+">",c+=u=="hour"&&t(i._defaults.pickerTimeFormat||i._defaults.timeFormat)?n.datepicker.formatTime("hh TT",{hour:h},i._defaults):u=="millisec"||h>=10?h:"0"+h.toString(),c+="<\/option>";return c+="<\/select>",r.children("select").remove(),n(c).appendTo(r).change(function(){i._onTimeChange(),i._onSelectHandler()}),r},options:function(n,t,i,r,u){var e={},f=t.children("select");if(typeof r=="string"){if(u===undefined)return f.data(r);e[r]=u}else e=r;return n.control.create(n,t,f.data("unit"),f.val(),e.min||f.data("min"),e.max||f.data("max"),e.step||f.data("step"))},value:function(n,t,i,r){var u=t.children("select");return r!==undefined?u.val(r):u.val()}}}}),n.fn.extend({timepicker:function(t){t=t||{};var i=Array.prototype.slice.call(arguments);return typeof t=="object"&&(i[0]=n.extend(t,{timeOnly:!0})),n(this).each(function(){n.fn.datetimepicker.apply(n(this),i)})},datetimepicker:function(t){t=t||{};var i=arguments;return typeof t=="string"?t=="getDate"?n.fn.datepicker.apply(n(this[0]),i):this.each(function(){var t=n(this);t.datepicker.apply(t,i)}):this.each(function(){var i=n(this);i.datepicker(n.timepicker._newInst(i,t)._defaults)})}}),n.datepicker.parseDateTime=function(n,t,i,r,u){var o=e(n,t,i,r,u),f;return o.timeObj&&(f=o.timeObj,o.date.setHours(f.hour,f.minute,f.second,f.millisec)),o.date},n.datepicker.parseTime=function(t,i,r){var f=u(u({},n.timepicker._defaults),r||{}),e=function(t,i,r){var h=function(t,i){var r=[];return t&&n.merge(r,t),i&&n.merge(r,i),r=n.map(r,function(n){return n.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+r.join("|")+")?"},c=function(n){var i=n.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),r={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1},t;if(i)for(t=0;t<i.length;t++)r[i[t].toString().charAt(0)]==-1&&(r[i[t].toString().charAt(0)]=t+1);return r},l="^"+t.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(n){switch(n.charAt(0).toLowerCase()){case"h":return"(\\d?\\d)";case"m":return"(\\d?\\d)";case"s":return"(\\d?\\d)";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return h(r.amNames,r.pmNames);default:return"("+n.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(n){return"\\"+n})+")?"}}).replace(/\s/g,"\\s?")+r.timeSuffix+"$",u=c(t),s="",f,o,e;if(f=i.match(new RegExp(l,"i")),o={hour:0,minute:0,second:0,millisec:0},f){if(u.t!==-1&&(f[u.t]===undefined||f[u.t].length===0?(s="",o.ampm=""):(s=n.inArray(f[u.t].toUpperCase(),r.amNames)!==-1?"AM":"PM",o.ampm=r[s=="AM"?"amNames":"pmNames"][0])),u.h!==-1&&(o.hour=s=="AM"&&f[u.h]=="12"?0:s=="PM"&&f[u.h]!="12"?parseInt(f[u.h],10)+12:Number(f[u.h])),u.m!==-1&&(o.minute=Number(f[u.m])),u.s!==-1&&(o.second=Number(f[u.s])),u.l!==-1&&(o.millisec=Number(f[u.l])),u.z!==-1&&f[u.z]!==undefined){e=f[u.z].toUpperCase();switch(e.length){case 1:e=r.timezoneIso8601?"Z":"+0000";break;case 5:r.timezoneIso8601&&(e=e.substring(1)=="0000"?"Z":e.substring(0,3)+":"+e.substring(3));break;case 6:r.timezoneIso8601?e.substring(1)=="00:00"&&(e="Z"):e=e=="Z"||e.substring(1)=="00:00"?"+0000":e.replace(/:/,"")}o.timezone=e}return o}return!1},o=function(t,i,r){try{var u=new Date("2012-01-01 "+i);return{hour:u.getHours(),minutes:u.getMinutes(),seconds:u.getSeconds(),millisec:u.getMilliseconds(),timezone:n.timepicker.timeZoneOffsetString(u)}}catch(f){try{return e(t,i,r)}catch(o){n.datepicker.log("Unable to parse \ntimeString: "+i+"\ntimeFormat: "+t)}}return!1};return typeof f.parse=="function"?f.parse(t,i,f):f.parse==="loose"?o(t,i,f):e(t,i,f)},n.datepicker.formatTime=function(t,i,r){r=r||{},r=n.extend({},n.timepicker._defaults,r),i=n.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},i);var o=t,u=r.amNames[0],e=parseInt(i.hour,10);return e>11&&(u=r.pmNames[0]),o=o.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,function(n){switch(n){case"HH":return("0"+e).slice(-2);case"H":return e;case"hh":return("0"+f(e)).slice(-2);case"h":return f(e);case"mm":return("0"+i.minute).slice(-2);case"m":return i.minute;case"ss":return("0"+i.second).slice(-2);case"s":return i.second;case"l":return("00"+i.millisec).slice(-3);case"z":return i.timezone===null?r.defaultTimezone:i.timezone;case"T":return u.charAt(0).toUpperCase();case"TT":return u.toUpperCase();case"t":return u.charAt(0).toLowerCase();case"tt":return u.toLowerCase();default:return n.replace(/\'/g,"")||"'"}}),n.trim(o)},n.datepicker._base_selectDate=n.datepicker._selectDate,n.datepicker._selectDate=function(t,i){var r=this._getInst(n(t)[0]),u=this._get(r,"timepicker");u?(u._limitMinMaxDateTime(r,!0),r.inline=r.stay_open=!0,this._base_selectDate(t,i),r.inline=r.stay_open=!1,this._notifyChange(r),this._updateDatepicker(r)):this._base_selectDate(t,i)},n.datepicker._base_updateDatepicker=n.datepicker._updateDatepicker,n.datepicker._updateDatepicker=function(t){var f=t.input[0],r,u;n.datepicker._curInst&&n.datepicker._curInst!=t&&n.datepicker._datepickerShowing&&n.datepicker._lastInput!=f||(typeof t.stay_open!="boolean"||t.stay_open===!1)&&(this._base_updateDatepicker(t),r=this._get(t,"timepicker"),r&&(r._addTimePicker(t),r._defaults.useLocalTimezone&&(u=new Date(t.selectedYear,t.selectedMonth,t.selectedDay,12),i(r,u),r._onTimeChange())))},n.datepicker._base_doKeyPress=n.datepicker._doKeyPress,n.datepicker._doKeyPress=function(i){var f=n.datepicker._getInst(i.target),r=n.datepicker._get(f,"timepicker");if(r&&n.datepicker._get(f,"constrainInput")){var u=t(r._defaults.timeFormat),e=n.datepicker._possibleChars(n.datepicker._get(f,"dateFormat")),s=r._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,u?"APM":"").replace(/Tt/g,u?"AaPpMm":"").replace(/tT/g,u?"AaPpMm":"").replace(/T/g,u?"AP":"").replace(/tt/g,u?"apm":"").replace(/t/g,u?"ap":"")+" "+r._defaults.separator+r._defaults.timeSuffix+(r._defaults.showTimezone?r._defaults.timezoneList.join(""):"")+r._defaults.amNames.join("")+r._defaults.pmNames.join("")+e,o=String.fromCharCode(i.charCode===undefined?i.keyCode:i.charCode);return i.ctrlKey||o<" "||!e||s.indexOf(o)>-1}return n.datepicker._base_doKeyPress(i)},n.datepicker._base_updateAlternate=n.datepicker._updateAlternate,n.datepicker._updateAlternate=function(t){var i=this._get(t,"timepicker"),u;if(i){if(u=i._defaults.altField,u){var c=i._defaults.altFormat||i._defaults.dateFormat,f=this._getDate(t),o=n.datepicker._getFormatConfig(t),r="",e=i._defaults.altSeparator?i._defaults.altSeparator:i._defaults.separator,s=i._defaults.altTimeSuffix?i._defaults.altTimeSuffix:i._defaults.timeSuffix,h=i._defaults.altTimeFormat!==null?i._defaults.altTimeFormat:i._defaults.timeFormat;r+=n.datepicker.formatTime(h,i,i._defaults)+s,i._defaults.timeOnly||i._defaults.altFieldTimeOnly||(r=i._defaults.altFormat?n.datepicker.formatDate(i._defaults.altFormat,f===null?new Date:f,o)+e+r:i.formattedDate+e+r),n(u).val(r)}}else n.datepicker._base_updateAlternate(t)},n.datepicker._base_doKeyUp=n.datepicker._doKeyUp,n.datepicker._doKeyUp=function(t){var i=n.datepicker._getInst(t.target),r=n.datepicker._get(i,"timepicker");if(r&&r._defaults.timeOnly&&i.input.val()!=i.lastVal)try{n.datepicker._updateDatepicker(i)}catch(u){n.datepicker.log(u)}return n.datepicker._base_doKeyUp(t)},n.datepicker._base_gotoToday=n.datepicker._gotoToday,n.datepicker._gotoToday=function(t){var r=this._getInst(n(t)[0]),e=r.dpDiv,u,f;this._base_gotoToday(t),u=this._get(r,"timepicker"),i(u),f=new Date,this._setTime(r,f),n(".ui-datepicker-today",e).click()},n.datepicker._disableTimepickerDatepicker=function(t){var r=this._getInst(t),i;r&&(i=this._get(r,"timepicker"),n(t).datepicker("getDate"),i&&(i._defaults.showTimepicker=!1,i._updateDateTime(r)))},n.datepicker._enableTimepickerDatepicker=function(t){var r=this._getInst(t),i;r&&(i=this._get(r,"timepicker"),n(t).datepicker("getDate"),i&&(i._defaults.showTimepicker=!0,i._addTimePicker(r),i._updateDateTime(r)))},n.datepicker._setTime=function(n,t){var i=this._get(n,"timepicker"),r;i&&(r=i._defaults,i.hour=t?t.getHours():r.hour,i.minute=t?t.getMinutes():r.minute,i.second=t?t.getSeconds():r.second,i.millisec=t?t.getMilliseconds():r.millisec,i._limitMinMaxDateTime(n,!0),i._onTimeChange(),i._updateDateTime(n))},n.datepicker._setTimeDatepicker=function(n,t,i){var f=this._getInst(n),r,u;f&&(r=this._get(f,"timepicker"),r&&(this._setDateFromField(f),t&&(typeof t=="string"?(r._parseTime(t,i),u=new Date,u.setHours(r.hour,r.minute,r.second,r.millisec)):u=new Date(t.getTime()),u.toString()=="Invalid Date"&&(u=undefined),this._setTime(f,u))))},n.datepicker._base_setDateDatepicker=n.datepicker._setDateDatepicker,n.datepicker._setDateDatepicker=function(n,t){var i=this._getInst(n),r;i&&(r=t instanceof Date?new Date(t.getTime()):t,this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(n,r,!0))},n.datepicker._base_getDateDatepicker=n.datepicker._getDateDatepicker,n.datepicker._getDateDatepicker=function(t,i){var u=this._getInst(t),r,f;if(u)return(r=this._get(u,"timepicker"),r)?(u.lastVal===undefined&&this._setDateFromField(u,i),f=this._getDate(u),f&&r._parseTime(n(t).val(),r.timeOnly)&&f.setHours(r.hour,r.minute,r.second,r.millisec),f):this._base_getDateDatepicker(t,i)},n.datepicker._base_parseDate=n.datepicker.parseDate,n.datepicker.parseDate=function(t,i,r){var u;try{u=this._base_parseDate(t,i,r)}catch(f){u=this._base_parseDate(t,i.substring(0,i.length-(f.length-f.indexOf(":")-2)),r),n.datepicker.log("Error parsing the date string: "+f+"\ndate string = "+i+"\ndate format = "+t)}return u},n.datepicker._base_formatDate=n.datepicker._formatDate,n.datepicker._formatDate=function(n){var t=this._get(n,"timepicker");return t?(t._updateDateTime(n),t.$input.val()):this._base_formatDate(n)},n.datepicker._base_optionDatepicker=n.datepicker._optionDatepicker,n.datepicker._optionDatepicker=function(t,i,r){var v=this._getInst(t),h,s;if(!v)return null;if(s=this._get(v,"timepicker"),s){var f=null,e=null,a=null,c=s._defaults.evnts,l={},u;if(typeof i=="string"){if(i==="minDate"||i==="minDateTime")f=r;else if(i==="maxDate"||i==="maxDateTime")e=r;else if(i==="onSelect")a=r;else if(c.hasOwnProperty(i)){if(typeof r=="undefined")return c[i];l[i]=r,h={}}}else if(typeof i=="object"){i.minDate?f=i.minDate:i.minDateTime?f=i.minDateTime:i.maxDate?e=i.maxDate:i.maxDateTime&&(e=i.maxDateTime);for(u in c)c.hasOwnProperty(u)&&i[u]&&(l[u]=i[u])}for(u in l)l.hasOwnProperty(u)&&(c[u]=l[u],h||(h=n.extend({},i)),delete h[u]);if(h&&o(h))return;f?(f=f===0?new Date:new Date(f),s._defaults.minDate=f,s._defaults.minDateTime=f):e?(e=e===0?new Date:new Date(e),s._defaults.maxDate=e,s._defaults.maxDateTime=e):a&&(s._defaults.onSelect=a)}return r===undefined?this._base_optionDatepicker.call(n.datepicker,t,i):this._base_optionDatepicker.call(n.datepicker,t,h||i,r)};var o=function(n){var t;for(t in n)if(n.hasOwnProperty(n))return!1;return!0},u=function(t,i){n.extend(t,i);for(var r in i)(i[r]===null||i[r]===undefined)&&(t[r]=i[r]);return t},t=function(n){return n.indexOf("t")!==-1&&n.indexOf("h")!==-1},f=function(n){return n>12&&(n=n-12),n==0&&(n=12),String(n)},s=function(t,i,r,u){var o,v;try{var e=u&&u.separator?u.separator:n.timepicker._defaults.separator,l=u&&u.timeFormat?u.timeFormat:n.timepicker._defaults.timeFormat,a=l.split(e),h=a.length,s=i.split(e),c=s.length;if(c>1)return[s.splice(0,c-h).join(e),s.splice(0,h).join(e)]}catch(f){if(n.datepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+f+"\ndateTimeString"+i+"\ndateFormat = "+t+"\nseparator = "+u.separator+"\ntimeFormat = "+u.timeFormat),f.indexOf(":")>=0)return o=i.length-(f.length-f.indexOf(":")-2),v=i.substring(o),[n.trim(i.substring(0,o)),n.trim(i.substring(o))];throw f;}return[i,""]},e=function(t,i,r,u,f){var e,o=s(t,r,u,f),c,h;if(e=n.datepicker._base_parseDate(t,o[0],u),o[1]!==""){if(c=o[1],h=n.datepicker.parseTime(i,c,f),h===null)throw"Wrong time format";return{date:e,timeObj:h}}return{date:e}},i=function(t,i){if(t&&t.timezone_select){t._defaults.useLocalTimezone=!0;var u=typeof i!="undefined"?i:new Date,r=n.timepicker.timeZoneOffsetString(u);t._defaults.timezoneIso8601&&(r=r.substring(0,3)+":"+r.substring(3)),t.timezone_select.val(r)}};n.timepicker=new r,n.timepicker.timeZoneOffsetString=function(n){var t=n.getTimezoneOffset()*-1,i=t%60,r=(t-i)/60;return(t>=0?"+":"-")+("0"+(r*101).toString()).substr(-2)+("0"+(i*101).toString()).substr(-2)},n.timepicker.timeRange=function(t,i,r){return n.timepicker.handleRange("timepicker",t,i,r)},n.timepicker.dateTimeRange=function(t,i,r){n.timepicker.dateRange(t,i,r,"datetimepicker")},n.timepicker.dateRange=function(t,i,r,u){u=u||"datepicker",n.timepicker.handleRange(u,t,i,r)},n.timepicker.handleRange=function(t,i,r,u){function e(n,t,u){t.val()&&new Date(i.val())>new Date(r.val())&&t.val(u)}function f(i,r,u){if(n(i).val()){var f=n(i)[t].call(n(i),"getDate");f.getTime&&n(r)[t].call(n(r),"option",u,f)}}return n.fn[t].call(i,n.extend({onClose:function(n){e(this,r,n)},onSelect:function(){f(this,r,"minDate")}},u,u.start)),n.fn[t].call(r,n.extend({onClose:function(n){e(this,i,n)},onSelect:function(){f(this,i,"maxDate")}},u,u.end)),t!="timepicker"&&u.reformat&&n([i,r]).each(function(){var r=n(this)[t].call(n(this),"option","dateFormat"),i=new Date(n(this).val());n(this).val()&&i&&n(this).val(n.datepicker.formatDate(r,i))}),e(i,r,i.val()),f(i,r,"minDate"),f(r,i,"maxDate"),n([i.get(0),r.get(0)])},n.timepicker.version="1.1.1"}})(jQuery),onload=function(){var n=document.getElementById("refreshed");n.value=="no"?n.value="yes":(n.value="no",location.reload())},$(function(){$("#Settings-tab").tabs(),$("#main-tab").tabs(),$("#main-tab").show(),$("#deleteorg").click(function(n){n.preventDefault();var t=$(this).attr("href");return confirm("Are you sure you want to delete?")&&($.block("deleting org"),$.post(t,null,function(n){n!="ok"?($.block(n),$(".blockOverlay").attr("title","Click to unblock").click($.unblock)):($.block("org deleted"),$(".blockOverlay").attr("title","Click to unblock").click(function(){$.unblock(),window.location="/"}))})),!1}),$("#sendreminders").click(function(n){n.preventDefault();var t=$(this).attr("href");confirm("Are you sure you want to send reminders?")&&($.block("sending reminders"),$.post(t,null,function(n){n!="ok"?($.unblock(),$.growlUI("error",n)):($.unblock(),$.growlUI("Email","Reminders Sent"))}))}),$("#reminderemails").click(function(n){n.preventDefault();var t=$(this).attr("href");return confirm("Are you sure you want to send reminders?")&&($.block("sending reminders"),$.post(t,null,function(n){n!="ok"?($.block(n),$(".blockOverlay").attr("title","Click to unblock").click($.unblock)):($.block("org deleted"),$(".blockOverlay").attr("title","Click to unblock").click(function(){$.unblock(),window.location="/"}))})),!1}),$(".bt").button(),$("form table.grid > tbody > tr:even").addClass("alt"),$(".CreateAndGo").click(function(n){return n.preventDefault(),confirm($(this).attr("confirm"))&&$.post($(this).attr("href"),null,function(n){window.location=n}),!1}),$("#memberDialog").dialog({title:"Add Members Dialog",bgiframe:!0,autoOpen:!1,zindex:9999,width:750,height:700,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","")}}),$("#AddFromTag").dialog({title:"Add From Tag",bgiframe:!0,autoOpen:!1,width:750,height:650,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src",""),RebindMemberGrids()}});$("body").on("click","a.addfromtag",function(n){n.preventDefault();var t=$("#AddFromTag");$("iframe",t).attr("src",this.href),t.dialog("option","title","Add Members From Tag"),t.dialog("open")});$("#LongRunOp").dialog({bgiframe:!0,autoOpen:!1,width:600,height:400,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src",""),RebindMemberGrids(),$.updateTable($("#Meetings-tab form"))}});$("body").on("click","#RepairTransactions",function(n){n.preventDefault();var t=$("#LongRunOp");$("iframe",t).attr("src",this.href),t.dialog("option","title","Repair Transactions"),t.dialog("open")});$("body").on("click",".delmeeting",function(n){if(n.preventDefault(),confirm("delete meeting for sure?")){var t=$("#LongRunOp");$("iframe",t).attr("src",this.href),t.dialog("option","title","Delete Meeting"),t.dialog("open")}return!1});$("body").on("click","a.addmembers",function(n){n.preventDefault();var t=$("#memberDialog");$("iframe",t).attr("src",this.href),t.dialog("option","title","Add Members"),t.dialog("open")});$("body").on("click","a.memberdialog",function(n){n.preventDefault();var t=$("#memberDialog");$("iframe",t).attr("src",this.href),t.dialog("option","title",this.title||"Edit Member Dialog"),t.dialog("open")});$("#inactive-link").click(function(){$.showTable($("#Inactive-tab form"))}),$("#pending-link").click(function(){$.showTable($("#Pending-tab form"))}),$("#priors-link").click(function(){$.showTable($("#Priors-tab form"))}),$("#visitors-link").click(function(){$.showTable($("#Visitors-tab form"))}),$("#meetings-link").click(function(){$.showTable($("#Meetings-tab form"))}),$.maxZIndex=$.fn.maxZIndex=function(n){var i={inc:10,group:"*"},t;return($.extend(i,n),t=0,$(i.group).each(function(){var n=parseInt($(this).css("z-index"));t=n>t?n:t}),!this.jquery)?t:this.each(function(){t+=i.inc,$(this).css("z-index",t)})},$.initDatePicker=function(n){$("ul.edit .datepicker",n).datepicker({}),$("ul.edit .timepicker",n).timepicker({stepHour:1,stepMinute:5,timeOnly:!0,timeFormat:"hh:mm tt",controlType:"slider"}),$("ul.edit .datetimepicker",n).datetimepicker({stepHour:1,stepMinute:15,timeOnly:!1,timeFormat:"hh:mm tt",controlType:"slider"})},$.showHideRegTypes=function(){$("#Settings-tab").tabs("option","disabled",[]),$("#QuestionList li").show(),$(".yes6").hide();switch($("#org_RegistrationTypeId").val()){case"0":$("#Settings-tab").tabs("option","disabled",[3,4,5]);break;case"6":$("#QuestionList > li").hide(),$(".yes6").show()}};$("body").on("change","#org_RegistrationTypeId",$.showHideRegTypes);$.showHideRegTypes();$("body").on("click","a.displayedit,a.displayedit2",function(n){n.preventDefault();var t=$(this).closest("form");return $.post($(this).attr("href"),null,function(n){$(t).html(n).ready(function(){$.initDatePicker(t),$(".submitbutton,.bt",t).button(),$(".roundbox select",t).css("width","100%"),$("#schedules",t).sortable({stop:$.renumberListItems}),$("#editor",t),$.regsettingeditclick(t),$.showHideRegTypes(),$.updateQuestionList(),$("#selectquestions").dialog({title:"Add Question",autoOpen:!1,width:595,height:195,modal:!0}),$("a.AddQuestion").click(function(n){var t=$("#selectquestions");return t.dialog("open"),n.preventDefault(),!1}),$(".helptip").tooltip({showBody:"|"})})}),!1});$("body").on("click","#selectquestions a",function(n){return n.preventDefault(),$.post("/Organization/NewAsk/",{id:"AskItems",type:$(this).attr("type")},function(n){$("#selectquestions").dialog("close"),$("html, body").animate({scrollTop:$("body").height()},800);var t=$("#QuestionList").append(n);$("#QuestionList > li:last").effect("highlight",{},3e3),$(".tip",t).tooltip({opacity:0,showBody:"|"}),$.updateQuestionList()}),!1});$("body").on("click","ul.enablesort a.del",function(n){return(n.preventDefault(),!$(this).attr("href"))?!1:($(this).parent().parent().parent().remove(),!1)});$("body").on("click","ul.enablesort a.delt",function(n){return(n.preventDefault(),!$(this).attr("href"))?!1:(confirm("are you sure?")&&($(this).parent().parent().remove(),$.updateQuestionList()),!1)});$.exceptions=["AskDropdown","AskCheckboxes","AskExtraQuestions","AskHeader","AskInstruction","AskMenu"],$.updateQuestionList=function(){$("#selectquestions li").each(function(){var n=this.className,t=$(this).text();t||(t=n),$.inArray(n,$.exceptions)>=0||$("li.type-"+n).length==0?$(this).html("<a href='#' type='"+n+"'>"+t+"<\/a>"):$(this).html("<span>"+t+"<\/span>")})},$(".helptip").tooltip({showBody:"|",blocked:!0});$("body").on("click","form.DisplayEdit a.submitbutton",function(n){var t,i;return(n.preventDefault(),t=$(this).closest("form"),!$(t).valid())?!1:(i=t.serialize(),$.post($(this).attr("href"),i,function(n){n.startsWith("error:")?$("div.formerror",t).html(n.substring(6)):$(t).html(n).ready(function(){$(".submitbutton,.bt").button(),$.regsettingeditclick(t),$.showHideRegTypes()})}),!1)});$("body").on("click","#future",function(){var n=$(this).closest("form"),t=n.serialize();$.post($(n).attr("action"),t,function(t){$(n).html(t),$(".bt",n).button()})});$("form.DisplayEdit").submit(function(){return $("#submitit").val()?!0:!1});$("body").on("click","a.taguntag",function(n){return n.preventDefault(),$.post("/Organization/ToggleTag/"+$(this).attr("pid"),null,function(t){$(n.target).text(t)}),!1});$.validator.addMethod("time",function(n,t){return this.optional(t)||/^\d{1,2}:\d{2}\s(?:AM|am|PM|pm)/.test(n)},"time format h:mm AM/PM"),$.validator.setDefaults({highlight:function(n){$(n).addClass("ui-state-highlight")},unhighlight:function(n){$(n).removeClass("ui-state-highlight")}}),$("#orginfoform").validate({rules:{"org.OrganizationName":{required:!0,maxlength:100}}}),$("#settingsForm").validate({rules:{"org.SchedTime":{time:!0},"org.OnLineCatalogSort":{digits:!0},"org.Limit":{digits:!0},"org.NumCheckInLabels":{digits:!0},"org.NumWorkerCheckInLabels":{digits:!0},"org.FirstMeetingDate":{date:!0},"org.LastMeetingDate":{date:!0},"org.RollSheetVisitorWks":{digits:!0},"org.GradeAgeStart":{digits:!0},"org.GradeAgeEnd":{digits:!0},"org.Fee":{number:!0},"org.Deposit":{number:!0},"org.ExtraFee":{number:!0},"org.ShirtFee":{number:!0},"org.ExtraOptionsLabel":{maxlength:50},"org.OptionsLabel":{maxlength:50},"org.NumItemsLabel":{maxlength:50},"org.GroupToJoin":{digits:!0},"org.RequestLabel":{maxlength:50},"org.DonationFundId":{number:!0}}}),$.getTable=function(n){var t=t||n.serialize(),i=$("#FilterGroups form");return t=t+"&"+i.serialize(),$.post(n.attr("action"),t,function(t){$(n).html(t).ready(function(){$("table.grid > tbody > tr:even",n).addClass("alt"),$("a.trigger-dropdown",n).dropdown(),$(".bt").button(),$(".datepicker").datepicker()})}),!1};$("body").on("click","a.filtergroupslink",function(n){n.preventDefault();var t=$(this).closest("form");return $("#FilterGroups").dialog({title:"Filter by Name, Small Groups",width:"300px",buttons:[{text:"Cancel","class":"bt",click:function(){$("#FilterGroups").dialog("close")}},{text:"Clear","class":"bt green",click:function(){$("#namefilter").val(""),$("#sgprefix").val(""),$("#smallgrouplist").val(null),$.getTable(t),$("#FilterGroups").dialog("close")}},{text:"Ok","class":"blue bt",click:function(){$.getTable(t),$("#FilterGroups").dialog("close")}}]}),!1});$("#namefilter").keypress(function(n){if((n.keyCode||n.which)==13){n.preventDefault();var t=$("#FilterGroups").dialog();buttons=t.dialog("option","buttons"),buttons[2].click()}return!0});$("body").on("click","#addsch",function(n){n.preventDefault();var t=$(this).closest("form");$.post("/Organization/NewSchedule",null,function(n){$("#schedules",t).append(n).ready(function(){$.renumberListItems(),$.initDatePicker(t)})})});$("body").on("click","a.deleteschedule",function(n){n.preventDefault(),$(this).parent().remove(),$.renumberListItems()});$.renumberListItems=function(){var n=1;$(".renumberMe").each(function(){$(this).val(n),n++})},$("#NewMeetingDialog").dialog({autoOpen:!1,width:488,height:450,modal:!0});$("body").on("click","#RollsheetLink",function(n){n.preventDefault(),$("#grouplabel").text("By Group");var t=$("#NewMeetingDialog");t.dialog("option","buttons",{Ok:function(){var t=$.GetMeetingDateTime(),n;if(!t.valid)return!1;n="?org=curr&dt="+t.date+" "+t.time,$("#altnames").is(":checked")&&(n+="&altnames=true"),$("#group").is(":checked")&&(n+="&bygroup=1&sgprefix="),window.open("/Reports/Rollsheet/"+n),$(this).dialog("close")}}),t.dialog("open")});$("body").on("click","#RallyRollsheetLink",function(n){n.preventDefault(),$("#grouplabel").text("By Group");var t=$("#NewMeetingDialog");t.dialog("option","buttons",{Ok:function(){var t=$.GetMeetingDateTime(),n;if(!t.valid)return!1;n="?org=curr&dt="+t.date+" "+t.time,$("#altnames").is(":checked")&&(n+="&altnames=true"),$("#group").is(":checked")&&(n+="&bygroup=1&sgprefix="),window.open("/Reports/RallyRollsheet/"+n),$(this).dialog("close")}}),t.dialog("open")});$("body").on("click","#NewMeeting",function(n){n.preventDefault(),$("#grouplabel").text("Group Meeting");var t=$("#NewMeetingDialog");return t.dialog("option","buttons",{Ok:function(){var n=$.GetMeetingDateTime(),t;if(!n.valid)return!1;t="?d="+n.date+"&t="+n.time+"&group="+($("#group").is(":checked")?"true":"false"),$.post("/Organization/NewMeeting",{d:n.date,t:n.time,AttendCredit:$("#AttendCreditList").val(),group:$("#group").is(":checked")},function(n){n.startsWith("error")||(window.location=n)}),$(this).dialog("close")}}),t.dialog("open"),!1});$("#ScheduleList").change(function(){var n=$(this).val().split(",");$("#NewMeetingDate").val(n[0]),$("#NewMeetingTime").val(n[1]),$("#AttendCreditList").val(n[2])}),$.GetMeetingDateTime=function(){var t=$("#NewMeetingDate").val(),i=$("#NewMeetingTime").val(),n=!0;return/^ *(\d{1,2}):[0-5][0-9] *((a|p|A|P)(m|M)){0,1} *$/.test(i)||($.growlUI("error","enter valid time"),n=!1),$.DateValid(t)||($.growlUI("error","enter valid date"),n=!1),{date:t,time:i,valid:n}};$("body").on("click","a.joinlink",function(n){return n.preventDefault(),$.post("/Organization/Join/",{id:this.id},function(n){n=="ok"?RebindMemberGrids():alert(n)}),!1});$("#divisionsDialog").dialog({title:"Select Divisions Dialog",bgiframe:!0,autoOpen:!1,width:690,height:650,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).remove();var n=$("#orginfoform");$.post("/Organization/OrgInfo/"+$("#OrganizationId").val(),null,function(t){$(n).html(t).ready(function(){$(".submitbutton,.bt").button()})})}}),$("#divisionlist").live("click",function(n){n.preventDefault(),$("#divisionsDialog").dialog("open");var t=$("<iframe style='width: 100%; height: 99%; border-width: 0;'><\/iframe>").appendTo("#divisionsDialog");t.attr("src",this.href)}),$("#orgsDialog").dialog({title:"Select Orgs Dialog",bgiframe:!0,autoOpen:!1,width:690,height:650,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","")}});$("body").on("click","#orgpicklist",function(n){n.preventDefault();var t=$("#orgsDialog");$("iframe",t).attr("src",this.href),t.dialog("open")});$.extraEditable=function(){$(".editarea").editable("/Organization/EditExtra/",{type:"textarea",submit:"OK",rows:5,width:200,indicator:'<img src="/images/loading.gif">',tooltip:"Click to edit..."}),$(".editline").editable("/Organization/EditExtra/",{indicator:"<img src='/images/loading.gif'>",tooltip:"Click to edit...",style:"display: inline",width:200,height:25,submit:"OK"})},$.extraEditable(),$("#newvalueform").dialog({autoOpen:!1,buttons:{Ok:function(){var t=$("#multiline").is(":checked"),n=$("#fieldname").val(),i=$("#fieldvalue").val();n&&$.post("/Organization/NewExtraValue/"+$("#OrganizationId").val(),{field:n,value:i,multiline:t},function(n){n.startsWith("error")?alert(n):($("#extras > tbody").html(n),$.extraEditable()),$("#fieldname").val("")}),$(this).dialog("close")}}});$("body").on("click","#newextravalue",function(n){n.preventDefault();var t=$("#newvalueform");t.dialog("open")});$("#TryRegDialog").dialog({autoOpen:!1,width:500});$("body").on("click","#tryreg",function(n){n.preventDefault();var t=$("#TryRegDialog");t.dialog("open")});$("body").on("click","a.deleteextra",function(n){return n.preventDefault(),confirm("are you sure?")&&$.post("/Organization/DeleteExtra/"+$("#OrganizationId").val(),{field:$(this).attr("field")},function(n){n.startsWith("error")?alert(n):($("#extras > tbody").html(n),$.extraEditable())}),!1})}),function(n){function t(n){window.console&&window.console.log&&window.console.log("SearchUsers selection count: "+n.size())}n.fn.SearchUsers=function(i){t(this);var r=n.extend({},{},i);return this.each(function(){var t=n(this);t.click(function(t){t.preventDefault();var i=n(this).attr("href");return n("<div class='dialog' style='margin: 5px'>Loading...<\/div>").dialog({closeOnEscape:!0,title:r.title||"Select Users",width:"auto",autoSize:!0}).bind("dialogclose",function(){n(this).dialog("destroy")}).load(i,function(){var t=n(this),i;t.dialog("option","position",["center","center"]),t.dialog("option","width",t.offsetWidth+10),n("table.results > tbody > tr:even",t).addClass("alt"),n(".bt").button(),n(".UpdateSelected",n(this)).click(function(i){i.preventDefault();var u=n("table.results tbody tr:first ",t).find("input[type=checkbox]").attr("value");return r.UpdateShared&&r.UpdateShared(u),t.dialog("close"),!1}),i=n("a.search",t).closest("form"),i.submit(function(){return n("a.search",t).click(),!1}),n("a.search",t).click(function(t){t.preventDefault();var r=i.serialize();return n.post(n(this).attr("href"),r,function(t){n("table.results",i).replaceWith(t),n("table.results > tbody > tr:even",i).addClass("alt")}),!1}),n("a.close",t).click(function(n){return n.preventDefault(),t.dialog("close"),!1}),n(t).off("click","input[type=checkbox]");n(t).on("change","input[type=checkbox]",function(){var t=n(this).parents("tr:eq(0)").find("span.move"),i=n(this).is(":checked"),r=n(this).attr("value");n.post("/SearchUsers/TagUntag/"+r,{ischecked:!i},function(){i?t.html("<a href='#' class='move' value='"+r+"'>move to top<\/a>"):t.empty()})});n(t).off("click","a.move");n(t).on("click","a.move",function(t){var i,r;t.preventDefault(),i=n(this).closest("form"),n("#topid").val(n(this).attr("value")),r=i.serialize(),n.post("/SearchUsers/MoveToTop",r,function(t){n("table.results",i).replaceWith(t).ready(function(){n("table.results > tbody > tr:even",i).addClass("alt")})})})}),!1})})}}(jQuery),$(function(){CKEDITOR.replace("editor",{height:200,filebrowserUploadUrl:"/Account/CKEditorUpload/",filebrowserImageUploadUrl:"/Account/CKEditorUpload/"});$("body").on("click","ul.enablesort div.newitem > a",function(n){if(!$(this).attr("href"))return!1;n.preventDefault();var t=$(this),i=t.closest("form");$.post(t.attr("href"),null,function(n){t.parent().prev().append(n),t.parent().prev().find(".tip").tooltip({opacity:0,showBody:"|"}),$.initDatePicker(i)})});$.regsettingeditclick=function(n){$(".tip",n).tooltip({opacity:0,showBody:"|"}),$("ul.enablesort.sort, ul.enablesort ul.sort",n).sortable(),$("ul.noedit input",n).attr("disabled","disabled"),$("ul.noedit select",n).attr("disabled","disabled"),$("ul.noedit a",n).not('[target="otherorg"]').removeAttr("href"),$("ul.noedit a",n).not('[target="otherorg"]').css("color","grey"),$("ul.noedit a",n).not('[target="otherorg"]').unbind("click"),$("ul.edit a.notifylist").SearchUsers({UpdateShared:function(n){$.post("/Organization/UpdateNotifyIds",{id:$("#OrganizationId").val(),topid:n},function(n){$("a.notifylist").html(n)})}})},$.regsettingeditclick(),$("a.editor").live("click",function(n){if(!$(this).attr("href"))return!1;var t=$(this).attr("tb");n.preventDefault(),CKEDITOR.instances.editor.setData($("#"+t).val()),dimOn(),$("#EditorDialog").center().show();$("#saveedit").off("click").on("click",function(n){n.preventDefault();var i=CKEDITOR.instances.editor.getData();return $("#"+t).val(i),$("#"+t+"_ro").html(i),CKEDITOR.instances.editor.setData(""),$("#EditorDialog").hide("close"),dimOff(),!1});return!1}),$("#canceledit").live("click",function(n){return n.preventDefault(),$("#EditorDialog").hide("close"),dimOff(),!1})});CKEDITOR.on("dialogDefinition",function(n){var e=n.data.name,o=n.data.definition,t,r,u,f,i;e=="link"&&(t=o.getContents("advanced"),t.label="SpecialLinks",t.remove("advCSSClasses"),t.remove("advCharset"),t.remove("advContentType"),t.remove("advStyles"),t.remove("advAccessKey"),t.remove("advName"),t.remove("advLangCode"),t.remove("advTabIndex"),r=t.get("advRel"),r.label="SmallGroup",u=t.get("advTitle"),u.label="Message",f=t.get("advId"),f.label="OrgId/MeetingId",i=t.get("advLangDir"),i.label="Confirmation",i.items[1][0]="Yes, send confirmation",i.items[2][0]="No, do not send confirmation")});
//@ sourceMappingURL=org.min.js.map